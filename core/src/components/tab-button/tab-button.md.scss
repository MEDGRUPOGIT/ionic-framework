@import "./tab-button";
@import "./tab-button.md.vars";

// Material Design Tab Button
// --------------------------------------------------------------

:host {
  --padding-top: #{$tab-button-md-padding-top};
  --padding-end: #{$tab-button-md-padding-end};
  --padding-bottom: #{$tab-button-md-padding-bottom};
  --padding-start: #{$tab-button-md-padding-start};

  max-width: 168px;

  font-size: $tab-button-md-font-size;
  font-weight: $tab-button-md-font-weight;

  letter-spacing: $tab-button-md-letter-spacing;
}


// Material Design Tab Button: Label
// --------------------------------------------------------------

::slotted(ion-label) {
  @include margin($tab-button-md-text-margin-top, $tab-button-md-text-margin-end, $tab-button-md-text-margin-bottom, $tab-button-md-text-margin-start);

  text-transform: $tab-button-md-text-capitalization;
}


// Material Design Tab Button: Icon
// --------------------------------------------------------------

::slotted(ion-icon) {
  @include margin($tab-button-md-icon-margin-top, $tab-button-md-icon-margin-end, $tab-button-md-icon-margin-bottom, $tab-button-md-icon-margin-start);
  @include transform-origin(center, center);

  font-size: $tab-button-md-icon-size;
}

// Material Design Tab Button: Badge
// --------------------------------------------------------------

::slotted(ion-badge) {
  @include border-radius($tab-button-md-badge-border-radius);
  @include padding($tab-button-md-badge-padding-top, $tab-button-md-badge-padding-end, $tab-button-md-badge-padding-bottom, $tab-button-md-badge-padding-start);
  @include position(8px, null, null, calc(50% + 6px));

  min-width: $tab-button-md-badge-min-width;

  font-size: $tab-button-md-badge-font-size;

  font-weight: normal;
}

::slotted(ion-badge:empty) {
  display: block;

  min-width: $tab-button-md-badge-size-empty;

  height: $tab-button-md-badge-size-empty;
}


// Material Design Tab Button: Icon Top Layout
// --------------------------------------------------------------

// Icon
:host(.tab-layout-icon-top) ::slotted(ion-icon) {
  @include margin(6px, null, 2px, null);
}

// Label
:host(.tab-layout-icon-top) ::slotted(ion-label) {
  @include margin(0, null, 6px, null);
}


// Material Design Tab Button: Icon Bottom Layout
// --------------------------------------------------------------

// Badge
:host(.tab-layout-icon-bottom) ::slotted(ion-badge) {
  @include position(8px, null, null, 70%);
}

// Icon
:host(.tab-layout-icon-bottom) ::slotted(ion-icon) {
  @include margin(0, null, 6px, null);
}

// Label
:host(.tab-layout-icon-bottom) ::slotted(ion-label) {
  @include margin(6px, null, 0, null);
}


// Material Design Tab Button: Icon Start / Icon End Layout
// --------------------------------------------------------------

// Badge
:host(.tab-layout-icon-start) ::slotted(ion-badge),
:host(.tab-layout-icon-end) ::slotted(ion-badge) {
  @include position(16px, null, null, 80%);
}

// Icon
:host(.tab-layout-icon-start) ::slotted(ion-icon) {
  @include margin(null, 6px, null, null);
}

// Icon
:host(.tab-layout-icon-end) ::slotted(ion-icon) {
  @include margin(null, null, null, 6px);
}


// Material Design Tab Button: Icon Hide / Label Only Layout
// --------------------------------------------------------------

// Badge
:host(.tab-layout-icon-hide) ::slotted(ion-badge),
:host(.tab-has-label-only) ::slotted(ion-badge) {
  @include position(16px, null, null, 70%);
}

// Label
:host(.tab-layout-icon-hide) ::slotted(ion-label),
:host(.tab-has-label-only) ::slotted(ion-label) {
  @include margin(0, null, 0, null);
}


// Material Design Tab Button: Icon Only / Label Hide Layout
// --------------------------------------------------------------

// Badge
:host(.tab-layout-label-hide) ::slotted(ion-badge),
:host(.tab-has-icon-only) ::slotted(ion-badge) {
  @include position(16px, null, null, null);
}

// Icon
:host(.tab-layout-label-hide) ::slotted(ion-icon),
:host(.tab-has-icon-only) ::slotted(ion-icon) {
  @include margin(0, null, 0, null);

  font-size: 24px;
}

//
// custom
//

@import "../../../med-components/abstracts";

:host {
  --color: #{$med-color-neutral-light-40};
  --color-hover: #{$med-color-brand-primary-lightest};
  --color-focused: #{$med-color-brand-primary-lightest};
  --color-selected: #{$med-color-brand-primary-light};
  --color-activated: #{$med-color-brand-primary-light};
  --background-focused: transparent;
  --background-focused-opacity: 1;
  --ripple-color: transparent;
  --padding-bottom:	#{$med-spacing-stack-xxxs};
  --padding-end:	#{$med-spacing-inline-nano};
  --padding-start:	#{$med-spacing-inline-nano};
  --padding-top: #{$med-spacing-stack-xxxs};

  min-width: 0;
  max-width: 100%;
  justify-content: start;
  font-size: $med-font-size-nano;
  font-weight: $med-font-weight-regular;
  line-height: $med-line-height-compressed;

  @include breakpoint-up('sm') {
    --padding-bottom:	#{$med-spacing-stack-base};
    --padding-end: #{$med-spacing-inline-xxxs};
    --padding-start: #{$med-spacing-inline-xxxs};
    --padding-top: #{$med-spacing-stack-base};

    flex-direction: row;
    justify-content: center;
    align-items: center;
    text-align: left;
    font-size: $med-font-size-xxxs;
  }
}

.button-native {
  transition: color 0.3s ease-out;
}

// icon
:host ::slotted(ion-icon) {
  min-height: 24px;
  min-width: 24px;
  max-width: initial;
  display: block;
  contain: unset;
  overflow: unset;
}

:host(.tab-layout-icon-top) ::slotted(ion-icon) {
  margin-top: 0;
  margin-bottom: $med-spacing-stack-nano;

  @include breakpoint-up('sm') {
    margin-bottom: 0;
    margin-right: $med-spacing-inline-xxxs;
  }
}

// label
:host ::slotted(ion-label) {
  text-overflow: initial;
  white-space: initial;
  overflow: initial;
}

:host(.tab-layout-icon-top) ::slotted(ion-label) {
  margin-top: 0;
  margin-bottom: 0;
}

// states
@media (any-hover: hover) {
  a:hover {
    color: var(--color-hover);
  }
}

:host(.ion-focused) .button-native {
  color: var(--color-focused);

  &::after {
    background: var(--background-focused);
    opacity: var(--background-focused-opacity);
  }
}

:host(.ion-activated) .button-native {
  color: var(--color-activated);
}

:host(.tab-selected) {
  color: var(--color-selected);
}

:host(.tab-disabled) {
  color: var(--color);
  opacity: $med-opacity-level-semiopaque;
}

//
// light-mode
//

:host-context(.light-mode) {
  --color: #{$med-color-neutral-light-10};
  --color-hover: #{$med-color-brand-primary-lightest};
  --color-focused: #{$med-color-brand-primary-lightest};
  --color-selected: #{$med-color-brand-primary-medium};
  --color-activated: #{$med-color-brand-primary-light};
  --background: #{$med-color-neutral-light-prime};
}
